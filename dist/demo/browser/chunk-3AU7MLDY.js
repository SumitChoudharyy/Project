import{a as _e}from"./chunk-RMNXGJZC.js";import{a as he}from"./chunk-NWZHLJ47.js";import{g as ue}from"./chunk-N2TOTUWC.js";import{i as fe,j as xe,k as ve,l as Ce,m as Se,n as ye,o as Me}from"./chunk-B2ACUTRL.js";import"./chunk-SM75V2JD.js";import"./chunk-TPLLZ4WP.js";import{a as le,c as se,e as pe,f as de,g as ge}from"./chunk-HZLVDOW6.js";import"./chunk-3Z7NIQRX.js";import{C as me,b as J,d as C,f as U,g as K,i as Q,j as X,k as Z,l as ee,m as te,q as ie,r as ne,t as ae,u as oe,x as re}from"./chunk-2CPZP6XT.js";import"./chunk-2ROMFWB2.js";import{a as ce}from"./chunk-CGMPHUAE.js";import{Da as I,Ha as d,Ta as l,Tb as B,Ua as t,Ub as z,Va as e,Wa as h,Xb as $,_a as v,ab as x,ad as G,bb as p,ca as u,cd as q,da as _,ed as j,fd as L,gd as H,id as W,jd as Y,lb as M,mb as w,pb as i,qb as R,rb as g,sb as D,tb as T,ua as o,ub as F,vb as N,ya as S,yb as V,zb as A}from"./chunk-ESMA6CIH.js";function Pe(n,s){n&1&&(t(0,"mat-error"),i(1," Check-in date is required "),e())}function ke(n,s){n&1&&(t(0,"mat-error"),i(1," Check-out date is required "),e())}function be(n,s){n&1&&(t(0,"mat-error"),i(1," Check-out date must be after check-in date "),e())}function Oe(n,s){n&1&&(t(0,"mat-error"),i(1," Number of guests is required "),e())}function Ee(n,s){n&1&&(t(0,"span"),i(1,"Search"),e())}function Ie(n,s){n&1&&h(0,"mat-spinner",35)}function we(n,s){if(n&1){let r=v();t(0,"mat-checkbox",36),x("change",function(m){let c=u(r).$implicit,f=p();return _(f.onAmenityChange(c,m))}),i(1),e()}if(n&2){let r=s.$implicit;l("value",r),o(),g(" ",r," ")}}function Re(n,s){if(n&1&&(t(0,"div",44),i(1),e()),n&2){let r=p(2);o(),g(" ",r.searchResults.length," room(s) found ")}}function De(n,s){if(n&1){let r=v();t(0,"div",45)(1,"mat-form-field",46)(2,"mat-label"),i(3,"Sort by"),e(),t(4,"mat-select",47),N("valueChange",function(m){u(r);let c=p(2);return F(c.sortBy,m)||(c.sortBy=m),_(m)}),x("selectionChange",function(){u(r);let m=p(2);return _(m.onSortChange())}),t(5,"mat-option",48),i(6,"Price: Low to High"),e(),t(7,"mat-option",49),i(8,"Price: High to Low"),e(),t(9,"mat-option",50),i(10,"Room Type"),e(),t(11,"mat-option",51),i(12,"Capacity"),e()()()()}if(n&2){let r=p(2);o(4),T("value",r.sortBy)}}function Te(n,s){n&1&&(t(0,"div",52),h(1,"app-loading-spinner",53),e())}function Fe(n,s){n&1&&(t(0,"div",54)(1,"mat-icon"),i(2,"search_off"),e(),t(3,"h3"),i(4,"No rooms found"),e(),t(5,"p"),i(6,"Try adjusting your search criteria or dates"),e()())}function Ne(n,s){if(n&1&&(t(0,"mat-chip"),i(1),e()),n&2){let r=s.$implicit;o(),g(" ",r," ")}}function Ve(n,s){if(n&1&&(t(0,"mat-chip",75),i(1),e()),n&2){let r=p().$implicit;o(),g(" +",r.amenities.length-4," more ")}}function Ae(n,s){if(n&1&&(t(0,"div",76),i(1),e()),n&2){let r=p().$implicit,a=p(3);o(),D(" Total: $",r.pricePerNight*a.getTotalNights()," for ",a.getTotalNights()," night(s) ")}}function Be(n,s){if(n&1){let r=v();t(0,"mat-card",57),h(1,"div",58),t(2,"mat-card-content",59)(3,"div",60)(4,"h3"),i(5),V(6,"titlecase"),e(),t(7,"div",61),i(8),e()(),t(9,"p",62),i(10),e(),t(11,"div",63)(12,"div",64)(13,"mat-icon"),i(14,"people"),e(),t(15,"span"),i(16),e()(),t(17,"div",64)(18,"mat-icon"),i(19,"layers"),e(),t(20,"span"),i(21),e()()(),t(22,"div",65)(23,"mat-chip-set"),d(24,Ne,2,1,"mat-chip",66)(25,Ve,2,1,"mat-chip",67),e()(),t(26,"div",68)(27,"div",69)(28,"span",70),i(29),e(),t(30,"span",71),i(31,"per night"),e()(),d(32,Ae,2,2,"div",72),e()(),t(33,"mat-card-actions")(34,"button",73),x("click",function(){let m=u(r).$implicit,c=p(3);return _(c.viewRoomDetails(m))}),i(35,"View Details"),e(),t(36,"button",74),x("click",function(){let m=u(r).$implicit,c=p(3);return _(c.bookRoom(m))}),i(37,"Book Now"),e()()()}if(n&2){let r=s.$implicit,a=p(3);o(),w("background-image","url("+r.images[0]+")"),o(4),g("",A(6,11,r.type)," Room"),o(3),g("Room ",r.roomNumber),o(2),R(r.description),o(6),g("Up to ",r.maxOccupancy," guests"),o(5),g("Floor ",r.floor),o(3),l("ngForOf",r.amenities.slice(0,4)),o(),l("ngIf",r.amenities.length>4),o(4),g("$",r.pricePerNight),o(3),l("ngIf",a.getTotalNights()>0)}}function ze(n,s){if(n&1&&(t(0,"div",55),d(1,Be,38,13,"mat-card",56),e()),n&2){let r=p(2);o(),l("ngForOf",r.searchResults)}}function $e(n,s){if(n&1&&(t(0,"div",37)(1,"div",38)(2,"h2"),i(3,"Available Rooms"),e(),d(4,Re,2,1,"div",39)(5,De,13,1,"div",40),e(),d(6,Te,2,0,"div",41)(7,Fe,7,0,"div",42)(8,ze,2,1,"div",43),e()),n&2){let r=p();o(4),l("ngIf",!r.isSearching),o(),l("ngIf",r.searchResults.length>0),o(),l("ngIf",r.isSearching),o(),l("ngIf",!r.isSearching&&r.searchResults.length===0),o(),l("ngIf",!r.isSearching&&r.searchResults.length>0)}}var rt=(()=>{let s=class s{constructor(a,m,c){this.fb=a,this.bookingService=m,this.mockData=c,this.searchResults=[],this.isSearching=!1,this.hasSearched=!1,this.sortBy="price-asc",this.minDate=new Date,this.availableAmenities=["WiFi","TV","AC","Mini Bar","Balcony","Living Area","Jacuzzi"],this.selectedAmenities=[],this.searchForm=this.fb.group({checkInDate:["",C.required],checkOutDate:["",C.required],guests:[1,[C.required,C.min(1)]],roomType:[""],minPrice:[""],maxPrice:[""],amenities:[[]]},{validators:this.dateRangeValidator})}ngOnInit(){let a=new Date,m=new Date(a);m.setDate(m.getDate()+1),this.searchForm.patchValue({checkInDate:a,checkOutDate:m})}dateRangeValidator(a){let m=a.get("checkInDate")?.value,c=a.get("checkOutDate")?.value;return m&&c&&c<=m?(a.get("checkOutDate")?.setErrors({dateRange:!0}),{dateRange:!0}):null}onSearch(){if(this.searchForm.valid){this.isSearching=!0,this.hasSearched=!0;let a=this.searchForm.value,m={checkInDate:a.checkInDate,checkOutDate:a.checkOutDate,guests:a.guests,roomType:a.roomType||void 0,minPrice:a.minPrice||void 0,maxPrice:a.maxPrice||void 0,amenities:this.selectedAmenities};this.bookingService.searchRooms(m).subscribe({next:c=>{this.searchResults=c,this.sortResults(),this.isSearching=!1},error:c=>{console.error("Search error:",c),this.isSearching=!1}})}}onAmenityChange(a,m){if(m.checked)this.selectedAmenities.push(a);else{let c=this.selectedAmenities.indexOf(a);c>-1&&this.selectedAmenities.splice(c,1)}}onSortChange(){this.sortResults()}sortResults(){switch(this.sortBy){case"price-asc":this.searchResults.sort((a,m)=>a.pricePerNight-m.pricePerNight);break;case"price-desc":this.searchResults.sort((a,m)=>m.pricePerNight-a.pricePerNight);break;case"type":this.searchResults.sort((a,m)=>a.type.localeCompare(m.type));break;case"capacity":this.searchResults.sort((a,m)=>m.maxOccupancy-a.maxOccupancy);break}}getTotalNights(){let a=this.searchForm.get("checkInDate")?.value,m=this.searchForm.get("checkOutDate")?.value;if(a&&m){let c=m.getTime()-a.getTime();return Math.ceil(c/(1e3*60*60*24))}return 0}viewRoomDetails(a){console.log("View details for room:",a)}bookRoom(a){console.log("Book room:",a)}};s.\u0275fac=function(m){return new(m||s)(S(te),S(_e),S(ue))},s.\u0275cmp=I({type:s,selectors:[["app-search-rooms"]],decls:84,vars:21,consts:[["checkInPicker",""],["checkOutPicker",""],[1,"search-container"],[1,"search-form-card"],[3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline",1,"date-field"],["matInput","","formControlName","checkInDate",3,"matDatepicker","min"],["matSuffix","",3,"for"],[4,"ngIf"],["matInput","","formControlName","checkOutDate",3,"matDatepicker","min"],["appearance","outline",1,"guests-field"],["formControlName","guests"],[3,"value"],["mat-raised-button","","color","primary","type","submit",1,"search-button",3,"disabled"],["diameter","20",4,"ngIf"],[1,"filters-panel"],[1,"filters-content"],[1,"filter-row"],["appearance","outline",1,"full-width"],["formControlName","roomType"],["value",""],["value","single"],["value","double"],["value","suite"],["value","deluxe"],["value","presidential"],["appearance","outline",1,"half-width"],["matInput","","type","number","formControlName","minPrice","placeholder","$0"],["matPrefix",""],["matInput","","type","number","formControlName","maxPrice","placeholder","$1000"],[1,"amenities-section"],[1,"amenities-grid"],[3,"value","change",4,"ngFor","ngForOf"],["class","results-section",4,"ngIf"],["diameter","20"],[3,"change","value"],[1,"results-section"],[1,"results-header"],["class","results-count",4,"ngIf"],["class","sort-options",4,"ngIf"],["class","loading-section",4,"ngIf"],["class","no-results",4,"ngIf"],["class","rooms-grid",4,"ngIf"],[1,"results-count"],[1,"sort-options"],["appearance","outline",1,"sort-field"],[3,"valueChange","selectionChange","value"],["value","price-asc"],["value","price-desc"],["value","type"],["value","capacity"],[1,"loading-section"],["message","Searching for available rooms..."],[1,"no-results"],[1,"rooms-grid"],["class","room-card",4,"ngFor","ngForOf"],[1,"room-card"],[1,"room-image"],[1,"room-content"],[1,"room-header"],[1,"room-number"],[1,"room-description"],[1,"room-details"],[1,"detail-item"],[1,"amenities"],[4,"ngFor","ngForOf"],["class","more-amenities",4,"ngIf"],[1,"price-section"],[1,"price"],[1,"price-amount"],[1,"price-period"],["class","total-price",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"more-amenities"],[1,"total-price"]],template:function(m,c){if(m&1){let f=v();t(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title"),i(4,"Find Your Perfect Room"),e()(),t(5,"mat-card-content")(6,"form",4),x("ngSubmit",function(){return u(f),_(c.onSearch())}),t(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),i(10,"Check-in Date"),e(),h(11,"input",7)(12,"mat-datepicker-toggle",8)(13,"mat-datepicker",null,0),d(15,Pe,2,0,"mat-error",9),e(),t(16,"mat-form-field",6)(17,"mat-label"),i(18,"Check-out Date"),e(),h(19,"input",10)(20,"mat-datepicker-toggle",8)(21,"mat-datepicker",null,1),d(23,ke,2,0,"mat-error",9)(24,be,2,0,"mat-error",9),e(),t(25,"mat-form-field",11)(26,"mat-label"),i(27,"Guests"),e(),t(28,"mat-select",12)(29,"mat-option",13),i(30,"1 Guest"),e(),t(31,"mat-option",13),i(32,"2 Guests"),e(),t(33,"mat-option",13),i(34,"3 Guests"),e(),t(35,"mat-option",13),i(36,"4 Guests"),e(),t(37,"mat-option",13),i(38,"5+ Guests"),e()(),d(39,Oe,2,0,"mat-error",9),e(),t(40,"button",14),d(41,Ee,2,0,"span",9)(42,Ie,1,0,"mat-spinner",15),e()(),t(43,"mat-expansion-panel",16)(44,"mat-expansion-panel-header")(45,"mat-panel-title"),i(46,"Advanced Filters"),e()(),t(47,"div",17)(48,"div",18)(49,"mat-form-field",19)(50,"mat-label"),i(51,"Room Type"),e(),t(52,"mat-select",20)(53,"mat-option",21),i(54,"Any Type"),e(),t(55,"mat-option",22),i(56,"Single"),e(),t(57,"mat-option",23),i(58,"Double"),e(),t(59,"mat-option",24),i(60,"Suite"),e(),t(61,"mat-option",25),i(62,"Deluxe"),e(),t(63,"mat-option",26),i(64,"Presidential"),e()()()(),t(65,"div",18)(66,"mat-form-field",27)(67,"mat-label"),i(68,"Min Price"),e(),h(69,"input",28),t(70,"span",29),i(71,"$"),e()(),t(72,"mat-form-field",27)(73,"mat-label"),i(74,"Max Price"),e(),h(75,"input",30),t(76,"span",29),i(77,"$"),e()()(),t(78,"div",31)(79,"h4"),i(80,"Amenities"),e(),t(81,"div",32),d(82,we,2,2,"mat-checkbox",33),e()()()()()()(),d(83,$e,9,5,"div",34),e()}if(m&2){let f,y,P,k,b,O=M(14),E=M(22);o(6),l("formGroup",c.searchForm),o(5),l("matDatepicker",O)("min",c.minDate),o(),l("for",O),o(3),l("ngIf",(f=c.searchForm.get("checkInDate"))==null?null:f.hasError("required")),o(4),l("matDatepicker",E)("min",((y=c.searchForm.get("checkInDate"))==null?null:y.value)||c.minDate),o(),l("for",E),o(3),l("ngIf",(P=c.searchForm.get("checkOutDate"))==null?null:P.hasError("required")),o(),l("ngIf",(k=c.searchForm.get("checkOutDate"))==null?null:k.hasError("dateRange")),o(5),l("value",1),o(2),l("value",2),o(2),l("value",3),o(2),l("value",4),o(2),l("value",5),o(2),l("ngIf",(b=c.searchForm.get("guests"))==null?null:b.hasError("required")),o(),l("disabled",c.searchForm.invalid||c.isSearching),o(),l("ngIf",!c.isSearching),o(),l("ngIf",c.isSearching),o(40),l("ngForOf",c.availableAmenities),o(),l("ngIf",c.hasSearched)}},dependencies:[Me,B,z,Q,J,X,U,K,Z,ee,G,q,j,W,H,Y,L,re,ie,ne,ae,oe,me,se,le,pe,de,ge,ce,fe,xe,ve,Ce,Se,ye,$,he],styles:[".search-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px}.search-form-card[_ngcontent-%COMP%]{margin-bottom:32px}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-start}.date-field[_ngcontent-%COMP%]{flex:1}.guests-field[_ngcontent-%COMP%]{flex:0 0 150px}.search-button[_ngcontent-%COMP%]{flex:0 0 120px;height:56px;margin-top:8px}.filters-panel[_ngcontent-%COMP%]{margin-top:16px}.filters-content[_ngcontent-%COMP%]{padding:16px 0}.filter-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.half-width[_ngcontent-%COMP%]{flex:1}.amenities-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#333}.amenities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:8px}.results-section[_ngcontent-%COMP%]{margin-top:32px}.results-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.results-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:400}.results-count[_ngcontent-%COMP%]{color:#666;font-size:16px}.sort-field[_ngcontent-%COMP%]{width:200px}.no-results[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;opacity:.5}.rooms-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:24px}.room-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease;overflow:hidden}.room-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026}.room-image[_ngcontent-%COMP%]{height:200px;background-size:cover;background-position:center}.room-content[_ngcontent-%COMP%]{padding:20px}.room-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.room-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500;color:#333}.room-number[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.room-description[_ngcontent-%COMP%]{color:#666;line-height:1.5;margin:0 0 16px}.room-details[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:14px;color:#666}.detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.amenities[_ngcontent-%COMP%]{margin-bottom:20px}.more-amenities[_ngcontent-%COMP%]{background-color:#f5f5f5!important;color:#666!important}.price-section[_ngcontent-%COMP%]{border-top:1px solid #eee;padding-top:16px}.price[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:6px;margin-bottom:4px}.price-amount[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1976d2}.price-period[_ngcontent-%COMP%]{color:#666;font-size:14px}.total-price[_ngcontent-%COMP%]{font-size:14px;color:#666}.loading-section[_ngcontent-%COMP%]{padding:40px 0}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.search-button[_ngcontent-%COMP%]{flex:1;margin-top:16px}.results-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.rooms-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=s;return n})();export{rt as SearchRoomsComponent};
