import{d as _e,j as he}from"./chunk-5WCYFJTU.js";import{n as K,t as H,u as J}from"./chunk-HQIV43OG.js";import{a as qe,c as Ne,d as Fe,h as Re,j as Te}from"./chunk-HZLVDOW6.js";import"./chunk-3Z7NIQRX.js";import{C as xe,D as Me,W as be,X as we,b as le,d as l,f as se,g as de,i as pe,k as ue,l as ce,m as fe,o as ge,q as Ee,r as Ce,u as Se,x as ye,y as ve}from"./chunk-2CPZP6XT.js";import"./chunk-2ROMFWB2.js";import{a as Ie,b as Pe}from"./chunk-CGMPHUAE.js";import{Da as D,Ha as s,Q as L,Ta as m,Ua as t,Ub as j,Va as e,Wa as p,Wb as U,Xc as Q,Zb as Z,a as B,ab as g,ad as W,b as G,bc as V,bd as X,cd as Y,dd as ee,ed as te,f as z,fd as re,gd as ie,hd as ne,id as ae,jd as oe,kd as me,pb as i,qb as E,ua as o,ya as f,yb as _,zb as h}from"./chunk-ESMA6CIH.js";function Ae(r,a){r&1&&(t(0,"mat-error"),i(1," First name is required "),e())}function Oe(r,a){r&1&&(t(0,"mat-error"),i(1," Only letters are allowed "),e())}function ke(r,a){r&1&&(t(0,"mat-error"),i(1," Last name is required "),e())}function $e(r,a){r&1&&(t(0,"mat-error"),i(1," Only letters are allowed "),e())}function Be(r,a){r&1&&(t(0,"mat-error"),i(1," Email is required "),e())}function Ge(r,a){r&1&&(t(0,"mat-error"),i(1," Please enter a valid email "),e())}function ze(r,a){r&1&&(t(0,"mat-error"),i(1," Phone number is required "),e())}function Le(r,a){r&1&&(t(0,"mat-error"),i(1," Please enter a valid phone number "),e())}function De(r,a){r&1&&(t(0,"mat-error"),i(1," Street address is required "),e())}function je(r,a){r&1&&(t(0,"mat-error"),i(1," City is required "),e())}function Ue(r,a){r&1&&(t(0,"mat-error"),i(1," State is required "),e())}function Ze(r,a){r&1&&(t(0,"mat-error"),i(1," ZIP code is required "),e())}function Ve(r,a){r&1&&(t(0,"mat-error"),i(1," Please enter a valid ZIP code "),e())}function Ke(r,a){r&1&&(t(0,"mat-error"),i(1," Country is required "),e())}function He(r,a){r&1&&(t(0,"mat-error"),i(1," Password is required "),e())}function Je(r,a){r&1&&(t(0,"mat-error"),i(1," Password must be at least 8 characters "),e())}function Qe(r,a){r&1&&(t(0,"mat-error"),i(1," Password must contain at least one uppercase letter, one lowercase letter, and one number "),e())}function We(r,a){r&1&&(t(0,"mat-error"),i(1," Please confirm your password "),e())}function Xe(r,a){r&1&&(t(0,"mat-error"),i(1," Passwords do not match "),e())}function Ye(r,a){r&1&&(t(0,"span"),i(1,"Create Account"),e())}function et(r,a){r&1&&p(0,"mat-spinner",30)}function tt(r){let a=r.get("password"),C=r.get("confirmPassword");return!a||!C||a.value===C.value?null:{passwordMismatch:!0}}var Ft=(()=>{let a=class a{constructor(d,u,n,c){this.fb=d,this.store=u,this.router=n,this.snackBar=c,this.hidePassword=!0,this.hideConfirmPassword=!0,this.isLoading$=this.store.select(H),this.destroy$=new z,this.addressGroup=this.fb.group({street:["",l.required],city:["",l.required],state:["",l.required],zipCode:["",[l.required,l.pattern(/^\d{5}(-\d{4})?$/)]],country:["USA",l.required]}),this.registerForm=this.fb.group({firstName:["",[l.required,l.pattern(/^[a-zA-Z\s]+$/)]],lastName:["",[l.required,l.pattern(/^[a-zA-Z\s]+$/)]],email:["",[l.required,l.email]],phoneNumber:["",[l.required,l.pattern(/^\+?[\d\s\-\(\)]+$/)]],password:["",[l.required,l.minLength(8),l.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/)]],confirmPassword:["",l.required],address:this.addressGroup,street:["",l.required],city:["",l.required],state:["",l.required],zipCode:["",[l.required,l.pattern(/^\d{5}(-\d{4})?$/)]],country:["USA",l.required]},{validators:tt})}ngOnInit(){this.store.dispatch(he()),this.store.select(J).pipe(L(this.destroy$)).subscribe(d=>{d&&this.snackBar.open(d,"Close",{duration:5e3})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){if(this.registerForm.valid){let d=this.registerForm.value,u=G(B({},d),{address:{street:d.street,city:d.city,state:d.state,zipCode:d.zipCode,country:d.country}});this.store.dispatch(_e({userData:u})),this.snackBar.open("Registration successful! Please log in.","Close",{duration:3e3}),setTimeout(()=>{this.router.navigate(["/login"])},2e3)}}};a.\u0275fac=function(u){return new(u||a)(f(fe),f(K),f(V),f(be))},a.\u0275cmp=D({type:a,selectors:[["app-register"]],decls:115,vars:33,consts:[[1,"register-container"],[1,"register-card"],[3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],["appearance","outline",1,"half-width"],["matInput","","formControlName","firstName","placeholder","Enter first name"],[4,"ngIf"],["matInput","","formControlName","lastName","placeholder","Enter last name"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email"],["matSuffix",""],["matInput","","formControlName","phoneNumber","placeholder","Enter phone number"],["matInput","","formControlName","street","placeholder","Enter street address"],["matInput","","formControlName","city","placeholder","Enter city"],["matInput","","formControlName","state","placeholder","Enter state"],["matInput","","formControlName","zipCode","placeholder","Enter ZIP code"],["formControlName","country"],["value","USA"],["value","Canada"],["value","UK"],["value","Australia"],["matInput","","formControlName","password","placeholder","Enter password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Confirm password",3,"type"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20",4,"ngIf"],[1,"card-footer"],["routerLink","/login"],["diameter","20"]],template:function(u,n){if(u&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),i(4,"Create Account"),e(),t(5,"mat-card-subtitle"),i(6,"Join our hotel booking platform"),e()(),t(7,"mat-card-content")(8,"form",2),g("ngSubmit",function(){return n.onSubmit()}),t(9,"div",3)(10,"h3"),i(11,"Personal Information"),e(),t(12,"div",4)(13,"mat-form-field",5)(14,"mat-label"),i(15,"First Name"),e(),p(16,"input",6),s(17,Ae,2,0,"mat-error",7)(18,Oe,2,0,"mat-error",7),e(),t(19,"mat-form-field",5)(20,"mat-label"),i(21,"Last Name"),e(),p(22,"input",8),s(23,ke,2,0,"mat-error",7)(24,$e,2,0,"mat-error",7),e()(),t(25,"mat-form-field",9)(26,"mat-label"),i(27,"Email"),e(),p(28,"input",10),t(29,"mat-icon",11),i(30,"email"),e(),s(31,Be,2,0,"mat-error",7)(32,Ge,2,0,"mat-error",7),e(),t(33,"mat-form-field",9)(34,"mat-label"),i(35,"Phone Number"),e(),p(36,"input",12),t(37,"mat-icon",11),i(38,"phone"),e(),s(39,ze,2,0,"mat-error",7)(40,Le,2,0,"mat-error",7),e()(),t(41,"div",3)(42,"h3"),i(43,"Address Information"),e(),t(44,"mat-form-field",9)(45,"mat-label"),i(46,"Street Address"),e(),p(47,"input",13),s(48,De,2,0,"mat-error",7),e(),t(49,"div",4)(50,"mat-form-field",5)(51,"mat-label"),i(52,"City"),e(),p(53,"input",14),s(54,je,2,0,"mat-error",7),e(),t(55,"mat-form-field",5)(56,"mat-label"),i(57,"State"),e(),p(58,"input",15),s(59,Ue,2,0,"mat-error",7),e()(),t(60,"div",4)(61,"mat-form-field",5)(62,"mat-label"),i(63,"ZIP Code"),e(),p(64,"input",16),s(65,Ze,2,0,"mat-error",7)(66,Ve,2,0,"mat-error",7),e(),t(67,"mat-form-field",5)(68,"mat-label"),i(69,"Country"),e(),t(70,"mat-select",17)(71,"mat-option",18),i(72,"United States"),e(),t(73,"mat-option",19),i(74,"Canada"),e(),t(75,"mat-option",20),i(76,"United Kingdom"),e(),t(77,"mat-option",21),i(78,"Australia"),e()(),s(79,Ke,2,0,"mat-error",7),e()()(),t(80,"div",3)(81,"h3"),i(82,"Password"),e(),t(83,"mat-form-field",9)(84,"mat-label"),i(85,"Password"),e(),p(86,"input",22),t(87,"button",23),g("click",function(){return n.hidePassword=!n.hidePassword}),t(88,"mat-icon"),i(89),e()(),s(90,He,2,0,"mat-error",7)(91,Je,2,0,"mat-error",7)(92,Qe,2,0,"mat-error",7),e(),t(93,"mat-form-field",9)(94,"mat-label"),i(95,"Confirm Password"),e(),p(96,"input",24),t(97,"button",23),g("click",function(){return n.hideConfirmPassword=!n.hideConfirmPassword}),t(98,"mat-icon"),i(99),e()(),s(100,We,2,0,"mat-error",7)(101,Xe,2,0,"mat-error",7),e()(),t(102,"div",25)(103,"button",26),_(104,"async"),s(105,Ye,2,0,"span",7),_(106,"async"),s(107,et,1,0,"mat-spinner",27),_(108,"async"),e()()()(),t(109,"mat-card-actions")(110,"div",28)(111,"p"),i(112,"Already have an account? "),t(113,"a",29),i(114,"Sign in here"),e()()()()()()),u&2){let c,S,y,v,x,M,b,w,I,P,q,N,F,R,T,A,O,k,$;o(8),m("formGroup",n.registerForm),o(9),m("ngIf",(c=n.registerForm.get("firstName"))==null?null:c.hasError("required")),o(),m("ngIf",(S=n.registerForm.get("firstName"))==null?null:S.hasError("pattern")),o(5),m("ngIf",(y=n.registerForm.get("lastName"))==null?null:y.hasError("required")),o(),m("ngIf",(v=n.registerForm.get("lastName"))==null?null:v.hasError("pattern")),o(7),m("ngIf",(x=n.registerForm.get("email"))==null?null:x.hasError("required")),o(),m("ngIf",(M=n.registerForm.get("email"))==null?null:M.hasError("email")),o(7),m("ngIf",(b=n.registerForm.get("phoneNumber"))==null?null:b.hasError("required")),o(),m("ngIf",(w=n.registerForm.get("phoneNumber"))==null?null:w.hasError("pattern")),o(8),m("ngIf",(I=n.addressGroup.get("street"))==null?null:I.hasError("required")),o(6),m("ngIf",(P=n.addressGroup.get("city"))==null?null:P.hasError("required")),o(5),m("ngIf",(q=n.addressGroup.get("state"))==null?null:q.hasError("required")),o(6),m("ngIf",(N=n.addressGroup.get("zipCode"))==null?null:N.hasError("required")),o(),m("ngIf",(F=n.addressGroup.get("zipCode"))==null?null:F.hasError("pattern")),o(13),m("ngIf",(R=n.addressGroup.get("country"))==null?null:R.hasError("required")),o(7),m("type",n.hidePassword?"password":"text"),o(3),E(n.hidePassword?"visibility_off":"visibility"),o(),m("ngIf",(T=n.registerForm.get("password"))==null?null:T.hasError("required")),o(),m("ngIf",(A=n.registerForm.get("password"))==null?null:A.hasError("minlength")),o(),m("ngIf",(O=n.registerForm.get("password"))==null?null:O.hasError("pattern")),o(4),m("type",n.hideConfirmPassword?"password":"text"),o(3),E(n.hideConfirmPassword?"visibility_off":"visibility"),o(),m("ngIf",(k=n.registerForm.get("confirmPassword"))==null?null:k.hasError("required")),o(),m("ngIf",n.registerForm.hasError("passwordMismatch")&&!(($=n.registerForm.get("confirmPassword"))!=null&&$.hasError("required"))),o(2),m("disabled",n.registerForm.invalid||h(104,27,n.isLoading$)),o(2),m("ngIf",!h(106,29,n.isLoading$)),o(2),m("ngIf",h(108,31,n.isLoading$))}},dependencies:[Z,j,U,ge,pe,le,se,de,ue,ce,me,te,ae,ie,oe,ne,re,ve,ye,Ee,Ce,Se,Me,xe,X,W,Q,ee,Y,Fe,Ne,qe,Re,Te,we,Pe,Ie],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.register-card[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:24px}.form-section[_ngcontent-%COMP%]{margin-bottom:24px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#333;font-size:18px;font-weight:500}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.half-width[_ngcontent-%COMP%]{flex:1}.form-actions[_ngcontent-%COMP%]{margin-top:24px}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center}a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}}"]});let r=a;return r})();export{Ft as RegisterComponent};
