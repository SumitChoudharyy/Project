import{h as fe}from"./chunk-RM634NEF.js";import{o as ue}from"./chunk-G4W6O524.js";import"./chunk-ECULAPZN.js";import"./chunk-Q22QTCMB.js";import"./chunk-3C5Q2D26.js";import{a as se}from"./chunk-MT5SNCPC.js";import{a as re}from"./chunk-I5TKW2RA.js";import"./chunk-4UJYQXVS.js";import"./chunk-BUWOPGRZ.js";import{a as de,c as pe}from"./chunk-WTICSYYS.js";import"./chunk-QWIYH2MJ.js";import{c as me}from"./chunk-GFDPKATK.js";import{L as ne,M as ae,P as oe,S as le,b as Q,d as m,f as W,g as X,j as Y,l as ee,m as te,p as ie}from"./chunk-O5SXCTPO.js";import"./chunk-NYMOSDCU.js";import{n as D,r as j}from"./chunk-YXL3DSGN.js";import{a as ce}from"./chunk-I2VQT6RE.js";import{Aa as h,Bb as f,Cb as y,Db as E,Fa as U,Ka as p,S as C,Wa as d,Xa as t,Ya as e,Yb as $,Za as s,_b as B,ac as G,db as _,g as z,jd as L,ld as V,nd as Z,od as K,pd as H,qd as R,sb as i,sd as J,tb as x,wa as l}from"./chunk-ONERCYX6.js";function _e(r,o){r&1&&(t(0,"mat-error"),i(1," First name is required "),e())}function ge(r,o){r&1&&(t(0,"mat-error"),i(1," Only letters are allowed "),e())}function he(r,o){r&1&&(t(0,"mat-error"),i(1," Last name is required "),e())}function ye(r,o){r&1&&(t(0,"mat-error"),i(1," Only letters are allowed "),e())}function Ce(r,o){r&1&&(t(0,"mat-error"),i(1," Email is required "),e())}function xe(r,o){r&1&&(t(0,"mat-error"),i(1," Please enter a valid email "),e())}function Ee(r,o){r&1&&(t(0,"mat-error"),i(1," Phone number is required "),e())}function Se(r,o){r&1&&(t(0,"mat-error"),i(1," Please enter a valid phone number "),e())}function Pe(r,o){r&1&&(t(0,"mat-error"),i(1," Street address is required "),e())}function be(r,o){r&1&&(t(0,"mat-error"),i(1," City is required "),e())}function ve(r,o){r&1&&(t(0,"mat-error"),i(1," State is required "),e())}function Me(r,o){r&1&&(t(0,"mat-error"),i(1," ZIP code is required "),e())}function Ne(r,o){r&1&&(t(0,"mat-error"),i(1," Please enter a valid ZIP code "),e())}function Ie(r,o){r&1&&(t(0,"mat-error"),i(1," Country is required "),e())}function Oe(r,o){r&1&&(t(0,"span"),i(1,"Update Profile"),e())}function qe(r,o){r&1&&s(0,"mat-spinner",37)}var Je=(()=>{let o=class o{constructor(n,c,a){this.fb=n,this.store=c,this.snackBar=a,this.user$=this.store.select(j),this.isUpdating=!1,this.destroy$=new z,this.addressGroup=this.fb.group({street:["",m.required],city:["",m.required],state:["",m.required],zipCode:["",[m.required,m.pattern(/^\d{5}(-\d{4})?$/)]],country:["USA",m.required]}),this.profileForm=this.fb.group({firstName:["",[m.required,m.pattern(/^[a-zA-Z\s]+$/)]],lastName:["",[m.required,m.pattern(/^[a-zA-Z\s]+$/)]],email:["",[m.required,m.email]],phoneNumber:["",[m.required,m.pattern(/^\+?[\d\s\-\(\)]+$/)]],address:this.addressGroup,street:["",m.required],city:["",m.required],state:["",m.required],zipCode:["",[m.required,m.pattern(/^\d{5}(-\d{4})?$/)]],country:["USA",m.required]})}ngOnInit(){this.user$.pipe(C(this.destroy$)).subscribe(n=>{n&&this.profileForm.patchValue({firstName:n.firstName,lastName:n.lastName,email:n.email,phoneNumber:n.phoneNumber,street:n.address.street,city:n.address.city,state:n.address.state,zipCode:n.address.zipCode,country:n.address.country})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){if(this.profileForm.valid){this.isUpdating=!0;let n=this.profileForm.value,c={firstName:n.firstName,lastName:n.lastName,email:n.email,phoneNumber:n.phoneNumber,address:{street:n.street,city:n.city,state:n.state,zipCode:n.zipCode,country:n.country}};this.store.dispatch(fe({userData:c})),setTimeout(()=>{this.isUpdating=!1,this.snackBar.open("Profile updated successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})},1500)}}resetForm(){this.user$.pipe(C(this.destroy$)).subscribe(n=>{n&&this.profileForm.patchValue({firstName:n.firstName,lastName:n.lastName,email:n.email,phoneNumber:n.phoneNumber,street:n.address.street,city:n.address.city,state:n.address.state,zipCode:n.address.zipCode,country:n.address.country})}),this.snackBar.open("Form reset to original values","Close",{duration:2e3})}changePassword(){this.snackBar.open("Change password feature coming soon!","Close",{duration:3e3})}deleteAccount(){this.snackBar.open("Account deletion feature coming soon!","Close",{duration:3e3})}};o.\u0275fac=function(c){return new(c||o)(h(ie),h(D),h(re))},o.\u0275cmp=U({type:o,selectors:[["app-profile"]],decls:141,vars:32,consts:[[1,"profile-container"],[1,"page-header"],[1,"profile-content"],[1,"profile-card"],[3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],["appearance","outline",1,"half-width"],["matInput","","formControlName","firstName","placeholder","Enter first name"],[4,"ngIf"],["matInput","","formControlName","lastName","placeholder","Enter last name"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email"],["matSuffix",""],["matInput","","formControlName","phoneNumber","placeholder","Enter phone number"],["matInput","","formControlName","street","placeholder","Enter street address"],["matInput","","formControlName","city","placeholder","Enter city"],["matInput","","formControlName","state","placeholder","Enter state"],["matInput","","formControlName","zipCode","placeholder","Enter ZIP code"],["formControlName","country"],["value","USA"],["value","Canada"],["value","UK"],["value","Australia"],[1,"account-info"],[1,"info-item"],[1,"status-active"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20",4,"ngIf"],[1,"security-card"],[1,"security-actions"],[1,"security-item"],[1,"security-info"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],["diameter","20"]],template:function(c,a){if(c&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),i(3,"My Profile"),e(),t(4,"p"),i(5,"Update your personal information and preferences"),e()(),t(6,"div",2)(7,"mat-card",3)(8,"mat-card-header")(9,"mat-card-title"),i(10,"Personal Information"),e(),t(11,"mat-card-subtitle"),i(12,"Keep your information up to date"),e()(),t(13,"mat-card-content")(14,"form",4),_("ngSubmit",function(){return a.onSubmit()}),t(15,"div",5)(16,"h3"),i(17,"Basic Information"),e(),t(18,"div",6)(19,"mat-form-field",7)(20,"mat-label"),i(21,"First Name"),e(),s(22,"input",8),p(23,_e,2,0,"mat-error",9)(24,ge,2,0,"mat-error",9),e(),t(25,"mat-form-field",7)(26,"mat-label"),i(27,"Last Name"),e(),s(28,"input",10),p(29,he,2,0,"mat-error",9)(30,ye,2,0,"mat-error",9),e()(),t(31,"mat-form-field",11)(32,"mat-label"),i(33,"Email"),e(),s(34,"input",12),t(35,"mat-icon",13),i(36,"email"),e(),p(37,Ce,2,0,"mat-error",9)(38,xe,2,0,"mat-error",9),e(),t(39,"mat-form-field",11)(40,"mat-label"),i(41,"Phone Number"),e(),s(42,"input",14),t(43,"mat-icon",13),i(44,"phone"),e(),p(45,Ee,2,0,"mat-error",9)(46,Se,2,0,"mat-error",9),e()(),t(47,"div",5)(48,"h3"),i(49,"Address Information"),e(),t(50,"mat-form-field",11)(51,"mat-label"),i(52,"Street Address"),e(),s(53,"input",15),p(54,Pe,2,0,"mat-error",9),e(),t(55,"div",6)(56,"mat-form-field",7)(57,"mat-label"),i(58,"City"),e(),s(59,"input",16),p(60,be,2,0,"mat-error",9),e(),t(61,"mat-form-field",7)(62,"mat-label"),i(63,"State"),e(),s(64,"input",17),p(65,ve,2,0,"mat-error",9),e()(),t(66,"div",6)(67,"mat-form-field",7)(68,"mat-label"),i(69,"ZIP Code"),e(),s(70,"input",18),p(71,Me,2,0,"mat-error",9)(72,Ne,2,0,"mat-error",9),e(),t(73,"mat-form-field",7)(74,"mat-label"),i(75,"Country"),e(),t(76,"mat-select",19)(77,"mat-option",20),i(78,"United States"),e(),t(79,"mat-option",21),i(80,"Canada"),e(),t(81,"mat-option",22),i(82,"United Kingdom"),e(),t(83,"mat-option",23),i(84,"Australia"),e()(),p(85,Ie,2,0,"mat-error",9),e()()(),t(86,"div",5)(87,"h3"),i(88,"Account Information"),e(),t(89,"div",24)(90,"div",25)(91,"strong"),i(92,"Account Status:"),e(),t(93,"span",26),i(94,"Active"),e()(),t(95,"div",25)(96,"strong"),i(97,"Member Since:"),e(),t(98,"span"),i(99),f(100,"async"),f(101,"date"),e()(),t(102,"div",25)(103,"strong"),i(104,"Last Login:"),e(),t(105,"span"),i(106),f(107,"async"),f(108,"async"),f(109,"date"),e()()()(),t(110,"div",27)(111,"button",28),_("click",function(){return a.resetForm()}),i(112,"Reset"),e(),t(113,"button",29),p(114,Oe,2,0,"span",9)(115,qe,1,0,"mat-spinner",30),e()()()()(),t(116,"mat-card",31)(117,"mat-card-header")(118,"mat-card-title"),i(119,"Security Settings"),e(),t(120,"mat-card-subtitle"),i(121,"Manage your account security"),e()(),t(122,"mat-card-content")(123,"div",32)(124,"div",33)(125,"div",34)(126,"h4"),i(127,"Password"),e(),t(128,"p"),i(129,"Update your password to keep your account secure"),e()(),t(130,"button",35),_("click",function(){return a.changePassword()}),i(131," Change Password "),e()(),s(132,"mat-divider"),t(133,"div",33)(134,"div",34)(135,"h4"),i(136,"Account Deletion"),e(),t(137,"p"),i(138,"Permanently delete your account and all associated data"),e()(),t(139,"button",36),_("click",function(){return a.deleteAccount()}),i(140," Delete Account "),e()()()()()()()),c&2){let u,S,P,b,v,M,N,I,O,q,F,w,T,k,A,g;l(14),d("formGroup",a.profileForm),l(9),d("ngIf",(u=a.profileForm.get("firstName"))==null?null:u.hasError("required")),l(),d("ngIf",(S=a.profileForm.get("firstName"))==null?null:S.hasError("pattern")),l(5),d("ngIf",(P=a.profileForm.get("lastName"))==null?null:P.hasError("required")),l(),d("ngIf",(b=a.profileForm.get("lastName"))==null?null:b.hasError("pattern")),l(7),d("ngIf",(v=a.profileForm.get("email"))==null?null:v.hasError("required")),l(),d("ngIf",(M=a.profileForm.get("email"))==null?null:M.hasError("email")),l(7),d("ngIf",(N=a.profileForm.get("phoneNumber"))==null?null:N.hasError("required")),l(),d("ngIf",(I=a.profileForm.get("phoneNumber"))==null?null:I.hasError("pattern")),l(8),d("ngIf",(O=a.addressGroup.get("street"))==null?null:O.hasError("required")),l(6),d("ngIf",(q=a.addressGroup.get("city"))==null?null:q.hasError("required")),l(5),d("ngIf",(F=a.addressGroup.get("state"))==null?null:F.hasError("required")),l(6),d("ngIf",(w=a.addressGroup.get("zipCode"))==null?null:w.hasError("required")),l(),d("ngIf",(T=a.addressGroup.get("zipCode"))==null?null:T.hasError("pattern")),l(13),d("ngIf",(k=a.addressGroup.get("country"))==null?null:k.hasError("required")),l(14),x(E(101,22,(A=y(100,20,a.user$))==null?null:A.createdAt,"mediumDate")),l(7),x((g=y(107,25,a.user$))!=null&&g.lastLogin?E(109,29,(g=y(108,27,a.user$))==null?null:g.lastLogin,"medium"):"Never"),l(7),d("disabled",a.profileForm.invalid||a.isUpdating),l(),d("ngIf",!a.isUpdating),l(),d("ngIf",a.isUpdating)}},dependencies:[ue,$,Y,Q,W,X,ee,te,L,V,Z,H,J,R,K,le,ne,ae,oe,me,pe,de,ce,se,B,G],styles:[".profile-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:24px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-size:32px;font-weight:300;color:#333}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:16px}.profile-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.profile-card[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]{padding:24px}.form-section[_ngcontent-%COMP%]{margin-bottom:32px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:18px;font-weight:500}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.half-width[_ngcontent-%COMP%]{flex:1}.account-info[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;display:flex;flex-direction:column;gap:12px}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.status-active[_ngcontent-%COMP%]{color:#4caf50;font-weight:500}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:24px;border-top:1px solid #eee}.security-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.security-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.security-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#333;font-size:16px;font-weight:500}.security-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.security-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.security-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:stretch}}"]});let r=o;return r})();export{Je as ProfileComponent};
